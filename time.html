<!DOCTYPE html>
<html>
  <head>
    <title>What time is it now</title>
  </head>

  <body>
    <div id='root'></div>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/react/16.1.0/umd/react.development.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.1.0/umd/react-dom.development.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js'></script>
    <script type='text/babel'>
    const div_style = {
      margin: '40px',
      border: '5px solid teal'
    };

    const h2Style = {
      fontSize: '15px',
      textAlign: 'center'
    }

    const textStyle ={
      textAlign: 'center'
    }

    class Tick extends React.Component{
      constructor(props){
        super(props);
        this.state = {
          module: 'Front-end fundamental',
          date: new Date()};
      }
      //hooks after rendered to DOM
      componentDidMount() {
        this.clock = setInterval(
          () => this.clockUpdate(),
          1000
        );
      }

      //stop the timer
      componentWillUnmount() {
        clearInterval(this.clock);
      }

      //update new state every second
      clockUpdate(){
        this.setState({
          date: new Date()
        });
      }

      render(){
          return(
           <div style = {div_style}>
              <h2 style = {h2Style}>{this.state.date.toLocaleTimeString()}, {this.state.date.toLocaleDateString()}.</h2>
              <h3 style = {textStyle}> Progress on Bloc so far:</h3>
              <p style = {textStyle}> Working on {this.props.checkpoint} checkpoint under {this.state.module}.</p>
           </div>
           );
         }
       }

    const info = {
      checkpoint: 'Props and State'
    }

    ReactDOM.render(
      <Tick
        checkpoint={info.checkpoint}/>, document.getElementById('root')
    );

    </script>
  </body>
</html>
